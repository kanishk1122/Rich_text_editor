{"ast":null,"code":"var _jsxFileName = \"/media/ks/My thing/test/textditor/src/plugins/ToolbarPlugin.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport { useLexicalComposerContext } from \"@lexical/react/LexicalComposerContext\";\nimport { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\nimport { CAN_REDO_COMMAND, CAN_UNDO_COMMAND, REDO_COMMAND, UNDO_COMMAND, SELECTION_CHANGE_COMMAND, FORMAT_TEXT_COMMAND, FORMAT_ELEMENT_COMMAND, $getSelection, $isRangeSelection, $createParagraphNode, $getNodeByKey } from \"lexical\";\nimport { $isLinkNode, TOGGLE_LINK_COMMAND } from \"@lexical/link\";\nimport { $isParentElementRTL, $wrapNodes, $isAtNodeEnd } from \"@lexical/selection\";\nimport { $getNearestNodeOfType, mergeRegister } from \"@lexical/utils\";\nimport { INSERT_ORDERED_LIST_COMMAND, INSERT_UNORDERED_LIST_COMMAND, REMOVE_LIST_COMMAND, $isListNode, ListNode } from \"@lexical/list\";\nimport { createPortal } from \"react-dom\";\nimport { $createHeadingNode, $createQuoteNode, $isHeadingNode } from \"@lexical/rich-text\";\nimport { $createCodeNode, $isCodeNode, getDefaultCodeLanguage, getCodeLanguages } from \"@lexical/code\";\n\n// import { useLexicalComposerContext } from '@lexical/react/LexicalComposerContext';\n// import { useEffect } from 'react';\n// import { mergeRegister } from '@lexical/utils';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst LowPriority = 1;\nconst [editor] = useLexicalComposerContext();\nconst supportedBlockTypes = new Set([\"paragraph\", \"quote\", \"code\", \"h1\", \"h2\", \"ul\", \"ol\"]);\nconst blockTypeToBlockName = {\n  code: \"Code Block\",\n  h1: \"Large Heading\",\n  h2: \"Small Heading\",\n  h3: \"Heading\",\n  h4: \"Heading\",\n  h5: \"Heading\",\n  ol: \"Numbered List\",\n  paragraph: \"Normal\",\n  quote: \"Quote\",\n  ul: \"Bulleted List\"\n};\nfunction Divider() {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"divider\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 10\n  }, this);\n}\n_c = Divider;\nfunction positionEditorElement(editor, rect) {\n  if (rect === null) {\n    editor.style.opacity = \"0\";\n    editor.style.top = \"-1000px\";\n    editor.style.left = \"-1000px\";\n  } else {\n    editor.style.opacity = \"1\";\n    editor.style.top = `${rect.top + rect.height + window.pageYOffset + 10}px`;\n    editor.style.left = `${rect.left + window.pageXOffset - editor.offsetWidth / 2 + rect.width / 2}px`;\n  }\n}\nfunction FloatingLinkEditor(_ref) {\n  _s();\n  let {\n    editor\n  } = _ref;\n  const editorRef = useRef(null);\n  const inputRef = useRef(null);\n  const mouseDownRef = useRef(false);\n  const [linkUrl, setLinkUrl] = useState(\"\");\n  const [isEditMode, setEditMode] = useState(false);\n  const [lastSelection, setLastSelection] = useState(null);\n  useEffect(() => {\n    const unregister = mergeRegister(editor.registerUpdateListener(_ref2 => {\n      let {\n        editorState\n      } = _ref2;\n      editorState.read(() => {\n        // Save the editor state to localStorage\n        const serializedState = JSON.stringify(editorState);\n        localStorage.setItem('editorState', serializedState);\n        console.log('Editor state saved:', serializedState);\n      });\n    }));\n    return () => {\n      unregister();\n    };\n  }, [editor]);\n  const updateLinkEditor = useCallback(() => {\n    const selection = $getSelection();\n    if ($isRangeSelection(selection)) {\n      const node = getSelectedNode(selection);\n      const parent = node.getParent();\n      if ($isLinkNode(parent)) {\n        setLinkUrl(parent.getURL());\n      } else if ($isLinkNode(node)) {\n        setLinkUrl(node.getURL());\n      } else {\n        setLinkUrl(\"\");\n      }\n    }\n    const editorElem = editorRef.current;\n    const nativeSelection = window.getSelection();\n    const activeElement = document.activeElement;\n    if (editorElem === null) {\n      return;\n    }\n    const rootElement = editor.getRootElement();\n    if (selection !== null && !nativeSelection.isCollapsed && rootElement !== null && rootElement.contains(nativeSelection.anchorNode)) {\n      const domRange = nativeSelection.getRangeAt(0);\n      let rect;\n      if (nativeSelection.anchorNode === rootElement) {\n        let inner = rootElement;\n        while (inner.firstElementChild != null) {\n          inner = inner.firstElementChild;\n        }\n        rect = inner.getBoundingClientRect();\n      } else {\n        rect = domRange.getBoundingClientRect();\n      }\n      if (!mouseDownRef.current) {\n        positionEditorElement(editorElem, rect);\n      }\n      setLastSelection(selection);\n    } else if (!activeElement || activeElement.className !== \"link-input\") {\n      positionEditorElement(editorElem, null);\n      setLastSelection(null);\n      setEditMode(false);\n      setLinkUrl(\"\");\n    }\n    return true;\n  }, [editor]);\n  useEffect(() => {\n    return mergeRegister(editor.registerUpdateListener(_ref3 => {\n      let {\n        editorState\n      } = _ref3;\n      editorState.read(() => {\n        updateLinkEditor();\n      });\n    }), editor.registerCommand(SELECTION_CHANGE_COMMAND, () => {\n      updateLinkEditor();\n      return true;\n    }, LowPriority));\n  }, [editor, updateLinkEditor]);\n  useEffect(() => {\n    editor.getEditorState().read(() => {\n      updateLinkEditor();\n    });\n  }, [editor, updateLinkEditor]);\n  useEffect(() => {\n    if (isEditMode && inputRef.current) {\n      inputRef.current.focus();\n    }\n  }, [isEditMode]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: editorRef,\n    className: \"link-editor\",\n    children: isEditMode ? /*#__PURE__*/_jsxDEV(\"input\", {\n      ref: inputRef,\n      className: \"link-input\",\n      value: linkUrl,\n      onChange: event => {\n        setLinkUrl(event.target.value);\n      },\n      onKeyDown: event => {\n        if (event.key === \"Enter\") {\n          event.preventDefault();\n          if (lastSelection !== null) {\n            if (linkUrl !== \"\") {\n              editor.dispatchCommand(TOGGLE_LINK_COMMAND, linkUrl);\n            }\n            setEditMode(false);\n          }\n        } else if (event.key === \"Escape\") {\n          event.preventDefault();\n          setEditMode(false);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"link-input\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          href: linkUrl,\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          children: linkUrl\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"link-edit\",\n          role: \"button\",\n          tabIndex: 0,\n          onMouseDown: event => event.preventDefault(),\n          onClick: () => {\n            setEditMode(true);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 11\n      }, this)\n    }, void 0, false)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 205,\n    columnNumber: 5\n  }, this);\n}\n_s(FloatingLinkEditor, \"ztMzj0DS1/Bsh5ejNhEjKLEUQHg=\");\n_c2 = FloatingLinkEditor;\nfunction Select(_ref4) {\n  let {\n    onChange,\n    className,\n    options,\n    value\n  } = _ref4;\n  return /*#__PURE__*/_jsxDEV(\"select\", {\n    className: className,\n    onChange: onChange,\n    value: value,\n    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n      hidden: true,\n      value: \"\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 7\n    }, this), options.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n      value: option,\n      children: option\n    }, option, false, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 253,\n    columnNumber: 5\n  }, this);\n}\n_c3 = Select;\nfunction getSelectedNode(selection) {\n  const anchor = selection.anchor;\n  const focus = selection.focus;\n  const anchorNode = selection.anchor.getNode();\n  const focusNode = selection.focus.getNode();\n  if (anchorNode === focusNode) {\n    return anchorNode;\n  }\n  const isBackward = selection.isBackward();\n  if (isBackward) {\n    return $isAtNodeEnd(focus) ? anchorNode : focusNode;\n  } else {\n    return $isAtNodeEnd(anchor) ? focusNode : anchorNode;\n  }\n}\nfunction BlockOptionsDropdownList(_ref5) {\n  _s2();\n  let {\n    editor,\n    blockType,\n    toolbarRef,\n    setShowBlockOptionsDropDown\n  } = _ref5;\n  const dropDownRef = useRef(null);\n  useEffect(() => {\n    const toolbar = toolbarRef.current;\n    const dropDown = dropDownRef.current;\n    if (toolbar !== null && dropDown !== null) {\n      const {\n        top,\n        left\n      } = toolbar.getBoundingClientRect();\n      dropDown.style.top = `${top + 40}px`;\n      dropDown.style.left = `${left}px`;\n    }\n  }, [dropDownRef, toolbarRef]);\n  useEffect(() => {\n    const dropDown = dropDownRef.current;\n    const toolbar = toolbarRef.current;\n    if (dropDown !== null && toolbar !== null) {\n      const handle = event => {\n        const target = event.target;\n        if (!dropDown.contains(target) && !toolbar.contains(target)) {\n          setShowBlockOptionsDropDown(false);\n        }\n      };\n      document.addEventListener(\"click\", handle);\n      return () => {\n        document.removeEventListener(\"click\", handle);\n      };\n    }\n  }, [dropDownRef, setShowBlockOptionsDropDown, toolbarRef]);\n  const formatParagraph = () => {\n    if (blockType !== \"paragraph\") {\n      editor.update(() => {\n        const selection = $getSelection();\n        if ($isRangeSelection(selection)) {\n          $wrapNodes(selection, () => $createParagraphNode());\n        }\n      });\n    }\n    setShowBlockOptionsDropDown(false);\n  };\n  const formatLargeHeading = () => {\n    if (blockType !== \"h1\") {\n      editor.update(() => {\n        const selection = $getSelection();\n        if ($isRangeSelection(selection)) {\n          $wrapNodes(selection, () => $createHeadingNode(\"h1\"));\n        }\n      });\n    }\n    setShowBlockOptionsDropDown(false);\n  };\n  const formatSmallHeading = () => {\n    if (blockType !== \"h2\") {\n      editor.update(() => {\n        const selection = $getSelection();\n        if ($isRangeSelection(selection)) {\n          $wrapNodes(selection, () => $createHeadingNode(\"h2\"));\n        }\n      });\n    }\n    setShowBlockOptionsDropDown(false);\n  };\n  const formatBulletList = () => {\n    if (blockType !== \"ul\") {\n      editor.dispatchCommand(INSERT_UNORDERED_LIST_COMMAND);\n    } else {\n      editor.dispatchCommand(REMOVE_LIST_COMMAND);\n    }\n    setShowBlockOptionsDropDown(false);\n  };\n  const formatNumberedList = () => {\n    if (blockType !== \"ol\") {\n      editor.dispatchCommand(INSERT_ORDERED_LIST_COMMAND);\n    } else {\n      editor.dispatchCommand(REMOVE_LIST_COMMAND);\n    }\n    setShowBlockOptionsDropDown(false);\n  };\n  const formatQuote = () => {\n    if (blockType !== \"quote\") {\n      editor.update(() => {\n        const selection = $getSelection();\n        if ($isRangeSelection(selection)) {\n          $wrapNodes(selection, () => $createQuoteNode());\n        }\n      });\n    }\n    setShowBlockOptionsDropDown(false);\n  };\n  const formatCode = () => {\n    if (blockType !== \"code\") {\n      editor.update(() => {\n        const selection = $getSelection();\n        if ($isRangeSelection(selection)) {\n          $wrapNodes(selection, () => $createCodeNode());\n        }\n      });\n    }\n    setShowBlockOptionsDropDown(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dropdown\",\n    ref: dropDownRef,\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"item\",\n      onClick: formatParagraph,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"icon paragraph\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text\",\n        children: \"Normal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 9\n      }, this), blockType === \"paragraph\" && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"active\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 39\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"item\",\n      onClick: formatLargeHeading,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"icon large-heading\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text\",\n        children: \"Large Heading\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 9\n      }, this), blockType === \"h1\" && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"active\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 32\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"item\",\n      onClick: formatSmallHeading,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"icon small-heading\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text\",\n        children: \"Small Heading\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 9\n      }, this), blockType === \"h2\" && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"active\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 32\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"item\",\n      onClick: formatBulletList,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"icon bullet-list\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text\",\n        children: \"Bullet List\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 9\n      }, this), blockType === \"ul\" && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"active\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 32\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"item\",\n      onClick: formatNumberedList,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"icon numbered-list\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text\",\n        children: \"Numbered List\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 9\n      }, this), blockType === \"ol\" && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"active\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 32\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 424,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"item\",\n      onClick: formatQuote,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"icon quote\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text\",\n        children: \"Quote\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 9\n      }, this), blockType === \"quote\" && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"active\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 35\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 429,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"item\",\n      onClick: formatCode,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"icon code\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text\",\n        children: \"Code Block\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 436,\n        columnNumber: 9\n      }, this), blockType === \"code\" && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"active\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 437,\n        columnNumber: 34\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 434,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 403,\n    columnNumber: 5\n  }, this);\n}\n_s2(BlockOptionsDropdownList, \"WaViSY3KSqR6IXk3ZFTwt9SmYC4=\");\n_c4 = BlockOptionsDropdownList;\nexport default function ToolbarPlugin() {\n  _s3();\n  const [editor] = useLexicalComposerContext();\n  const toolbarRef = useRef(null);\n  const [canUndo, setCanUndo] = useState(false);\n  const [canRedo, setCanRedo] = useState(false);\n  const [blockType, setBlockType] = useState(\"paragraph\");\n  const [selectedElementKey, setSelectedElementKey] = useState(null);\n  const [showBlockOptionsDropDown, setShowBlockOptionsDropDown] = useState(false);\n  const [codeLanguage, setCodeLanguage] = useState(\"\");\n  const [isRTL, setIsRTL] = useState(false);\n  const [isLink, setIsLink] = useState(false);\n  const [isBold, setIsBold] = useState(false);\n  const [isItalic, setIsItalic] = useState(false);\n  const [isUnderline, setIsUnderline] = useState(false);\n  const [isStrikethrough, setIsStrikethrough] = useState(false);\n  const [isCode, setIsCode] = useState(false);\n  const [textSize, setTextSize] = useState(16); // Default text size\n  const [fontSizeChange, setFontSizeChange] = useState(1); // Default font size change\n\n  const updateToolbar = useCallback(() => {\n    const selection = $getSelection();\n    if ($isRangeSelection(selection)) {\n      const anchorNode = selection.anchor.getNode();\n      const element = anchorNode.getKey() === \"root\" ? anchorNode : anchorNode.getTopLevelElementOrThrow();\n      const elementKey = element.getKey();\n      const elementDOM = editor.getElementByKey(elementKey);\n      if (elementDOM !== null) {\n        setSelectedElementKey(elementKey);\n        if ($isListNode(element)) {\n          const parentList = $getNearestNodeOfType(anchorNode, ListNode);\n          const type = parentList ? parentList.getTag() : element.getTag();\n          setBlockType(type);\n        } else {\n          const type = $isHeadingNode(element) ? element.getTag() : element.getType();\n          setBlockType(type);\n          if ($isCodeNode(element)) {\n            setCodeLanguage(element.getLanguage() || getDefaultCodeLanguage());\n          }\n        }\n      }\n      // Update text format\n      setIsBold(selection.hasFormat(\"bold\"));\n      setIsItalic(selection.hasFormat(\"italic\"));\n      setIsUnderline(selection.hasFormat(\"underline\"));\n      setIsStrikethrough(selection.hasFormat(\"strikethrough\"));\n      setIsCode(selection.hasFormat(\"code\"));\n      setIsRTL($isParentElementRTL(selection));\n\n      // Update links\n      const node = getSelectedNode(selection);\n      const parent = node.getParent();\n      if ($isLinkNode(parent) || $isLinkNode(node)) {\n        setIsLink(true);\n      } else {\n        setIsLink(false);\n      }\n    }\n  }, [editor]);\n  useEffect(() => {\n    return mergeRegister(editor.registerUpdateListener(_ref6 => {\n      let {\n        editorState\n      } = _ref6;\n      editorState.read(() => {\n        updateToolbar();\n      });\n    }), editor.registerCommand(SELECTION_CHANGE_COMMAND, (_payload, newEditor) => {\n      updateToolbar();\n      return false;\n    }, LowPriority), editor.registerCommand(CAN_UNDO_COMMAND, payload => {\n      setCanUndo(payload);\n      return false;\n    }, LowPriority), editor.registerCommand(CAN_REDO_COMMAND, payload => {\n      setCanRedo(payload);\n      return false;\n    }, LowPriority));\n  }, [editor, updateToolbar]);\n  const codeLanguges = useMemo(() => getCodeLanguages(), []);\n  const onCodeLanguageSelect = useCallback(e => {\n    editor.update(() => {\n      if (selectedElementKey !== null) {\n        const node = $getNodeByKey(selectedElementKey);\n        if ($isCodeNode(node)) {\n          node.setLanguage(e.target.value);\n        }\n      }\n    });\n  }, [editor, selectedElementKey]);\n  const insertLink = useCallback(() => {\n    if (!isLink) {\n      editor.dispatchCommand(TOGGLE_LINK_COMMAND, \"https://\");\n    } else {\n      editor.dispatchCommand(TOGGLE_LINK_COMMAND, null);\n    }\n  }, [editor, isLink]);\n  const increaseTextSize = useCallback(() => {\n    const sizeChange = Math.min(fontSizeChange, 72); // Ensure fontSizeChange doesn't exceed 72\n    setTextSize(prevSize => Math.min(prevSize + sizeChange, 72)); // Cap the font size at 72px\n\n    editor.update(() => {\n      const selection = $getSelection();\n      if ($isRangeSelection(selection)) {\n        selection.getNodes().forEach(node => {\n          if (node.getType() === \"text\") {\n            const newSize = Math.min(textSize + sizeChange, 72); // Cap the font size at 72px\n            node.setStyle(`font-size: ${newSize}px`);\n          }\n        });\n      }\n    });\n  }, [editor, textSize, fontSizeChange]);\n  const decreaseTextSize = useCallback(() => {\n    setTextSize(prevSize => Math.max(prevSize - fontSizeChange, 1));\n    editor.update(() => {\n      const selection = $getSelection();\n      if ($isRangeSelection(selection)) {\n        selection.getNodes().forEach(node => {\n          if (node.getType() === \"text\") {\n            node.setStyle(`font-size: ${textSize - fontSizeChange}px`);\n          }\n        });\n      }\n    });\n  }, [editor, textSize, fontSizeChange]);\n  useEffect(() => {}, [editor, textSize, fontSizeChange]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"toolbar \",\n    ref: toolbarRef,\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      disabled: !canUndo,\n      onClick: () => {\n        editor.dispatchCommand(UNDO_COMMAND);\n      },\n      className: \"toolbar-item spaced\",\n      \"aria-label\": \"Undo\",\n      children: /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"format undo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 608,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 600,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      disabled: !canRedo,\n      onClick: () => {\n        editor.dispatchCommand(REDO_COMMAND);\n      },\n      className: \"toolbar-item\",\n      \"aria-label\": \"Redo\",\n      children: /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"format redo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 618,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 610,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 620,\n      columnNumber: 7\n    }, this), supportedBlockTypes.has(blockType) && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"toolbar-item block-controls\",\n        onClick: () => setShowBlockOptionsDropDown(!showBlockOptionsDropDown),\n        \"aria-label\": \"Formatting Options\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"icon block-type \" + blockType\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 630,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text\",\n          children: blockTypeToBlockName[blockType]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 631,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"chevron-down\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 632,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 623,\n        columnNumber: 11\n      }, this), showBlockOptionsDropDown && /*#__PURE__*/createPortal(/*#__PURE__*/_jsxDEV(BlockOptionsDropdownList, {\n        editor: editor,\n        blockType: blockType,\n        toolbarRef: toolbarRef,\n        setShowBlockOptionsDropDown: setShowBlockOptionsDropDown\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 636,\n        columnNumber: 15\n      }, this), document.body), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 644,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), blockType === \"code\" ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Select, {\n        className: \"toolbar-item code-language\",\n        onChange: onCodeLanguageSelect,\n        options: codeLanguges,\n        value: codeLanguage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 649,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"chevron-down inside\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 655,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: decreaseTextSize,\n        className: \"toolbar-item\",\n        \"aria-label\": \"Decrease Text Size\",\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          viewBox: \"0 0 24 24\",\n          width: \"24\",\n          height: \"24\",\n          fill: \"currentColor\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M19 11H5V13H19V11Z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 671,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 664,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 659,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: fontSizeChange,\n        onChange: e => setFontSizeChange(parseInt(e.target.value, 10)),\n        className: \"toolbar-item  text-center rounded-xl border-2 border-zinc-500 focus:outline-none\",\n        min: \"1\",\n        max: \"72\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 674,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: increaseTextSize,\n        className: \"toolbar-item\",\n        \"aria-label\": \"Increase Text Size\",\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          viewBox: \"0 0 24 24\",\n          width: \"24\",\n          height: \"24\",\n          fill: \"currentColor\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M11 11V5H13V11H19V13H13V19H11V13H5V11H11Z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 694,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 687,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 682,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          editor.dispatchCommand(FORMAT_TEXT_COMMAND, \"bold\");\n        },\n        className: \"toolbar-item spaced \" + (isBold ? \"active\" : \"\"),\n        \"aria-label\": \"Format Bold\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"format bold\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 704,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 697,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          editor.dispatchCommand(FORMAT_TEXT_COMMAND, \"italic\");\n        },\n        className: \"toolbar-item spaced \" + (isItalic ? \"active\" : \"\"),\n        \"aria-label\": \"Format Italics\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"format italic\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 713,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 706,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          editor.dispatchCommand(FORMAT_TEXT_COMMAND, \"underline\");\n        },\n        className: \"toolbar-item spaced \" + (isUnderline ? \"active\" : \"\"),\n        \"aria-label\": \"Format Underline\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"format underline\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 722,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 715,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          editor.dispatchCommand(FORMAT_TEXT_COMMAND, \"strikethrough\");\n        },\n        className: \"toolbar-item spaced \" + (isStrikethrough ? \"active\" : \"\"),\n        \"aria-label\": \"Format Strikethrough\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"format strikethrough\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 733,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 724,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          editor.dispatchCommand(FORMAT_TEXT_COMMAND, \"code\");\n        },\n        className: \"toolbar-item spaced \" + (isCode ? \"active\" : \"\"),\n        \"aria-label\": \"Insert Code\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"format code\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 742,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 735,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: insertLink,\n        className: \"toolbar-item spaced \" + (isLink ? \"active\" : \"\"),\n        \"aria-label\": \"Insert Link\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"format link\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 749,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 744,\n        columnNumber: 11\n      }, this), isLink && /*#__PURE__*/createPortal(/*#__PURE__*/_jsxDEV(FloatingLinkEditor, {\n        editor: editor\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 752,\n        columnNumber: 26\n      }, this), document.body), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 753,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          editor.dispatchCommand(FORMAT_ELEMENT_COMMAND, \"left\");\n        },\n        className: \"toolbar-item spaced\",\n        \"aria-label\": \"Left Align\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"format left-align\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 761,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 754,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          editor.dispatchCommand(FORMAT_ELEMENT_COMMAND, \"center\");\n        },\n        className: \"toolbar-item spaced\",\n        \"aria-label\": \"Center Align\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"format center-align\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 770,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 763,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          editor.dispatchCommand(FORMAT_ELEMENT_COMMAND, \"right\");\n        },\n        className: \"toolbar-item spaced\",\n        \"aria-label\": \"Right Align\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"format right-align\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 779,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 772,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          editor.dispatchCommand(FORMAT_ELEMENT_COMMAND, \"justify\");\n        },\n        className: \"toolbar-item\",\n        \"aria-label\": \"Justify Align\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"format justify-align\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 788,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 781,\n        columnNumber: 11\n      }, this), \" \"]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 599,\n    columnNumber: 5\n  }, this);\n}\n_s3(ToolbarPlugin, \"H9Carf4sD7CC/E8/5arg6topHr8=\", false, function () {\n  return [useLexicalComposerContext];\n});\n_c5 = ToolbarPlugin;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"Divider\");\n$RefreshReg$(_c2, \"FloatingLinkEditor\");\n$RefreshReg$(_c3, \"Select\");\n$RefreshReg$(_c4, \"BlockOptionsDropdownList\");\n$RefreshReg$(_c5, \"ToolbarPlugin\");","map":{"version":3,"names":["useLexicalComposerContext","useCallback","useEffect","useMemo","useRef","useState","CAN_REDO_COMMAND","CAN_UNDO_COMMAND","REDO_COMMAND","UNDO_COMMAND","SELECTION_CHANGE_COMMAND","FORMAT_TEXT_COMMAND","FORMAT_ELEMENT_COMMAND","$getSelection","$isRangeSelection","$createParagraphNode","$getNodeByKey","$isLinkNode","TOGGLE_LINK_COMMAND","$isParentElementRTL","$wrapNodes","$isAtNodeEnd","$getNearestNodeOfType","mergeRegister","INSERT_ORDERED_LIST_COMMAND","INSERT_UNORDERED_LIST_COMMAND","REMOVE_LIST_COMMAND","$isListNode","ListNode","createPortal","$createHeadingNode","$createQuoteNode","$isHeadingNode","$createCodeNode","$isCodeNode","getDefaultCodeLanguage","getCodeLanguages","jsxDEV","_jsxDEV","Fragment","_Fragment","LowPriority","editor","supportedBlockTypes","Set","blockTypeToBlockName","code","h1","h2","h3","h4","h5","ol","paragraph","quote","ul","Divider","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","positionEditorElement","rect","style","opacity","top","left","height","window","pageYOffset","pageXOffset","offsetWidth","width","FloatingLinkEditor","_ref","_s","editorRef","inputRef","mouseDownRef","linkUrl","setLinkUrl","isEditMode","setEditMode","lastSelection","setLastSelection","unregister","registerUpdateListener","_ref2","editorState","read","serializedState","JSON","stringify","localStorage","setItem","console","log","updateLinkEditor","selection","node","getSelectedNode","parent","getParent","getURL","editorElem","current","nativeSelection","getSelection","activeElement","document","rootElement","getRootElement","isCollapsed","contains","anchorNode","domRange","getRangeAt","inner","firstElementChild","getBoundingClientRect","_ref3","registerCommand","getEditorState","focus","ref","children","value","onChange","event","target","onKeyDown","key","preventDefault","dispatchCommand","href","rel","role","tabIndex","onMouseDown","onClick","_c2","Select","_ref4","options","hidden","map","option","_c3","anchor","getNode","focusNode","isBackward","BlockOptionsDropdownList","_ref5","_s2","blockType","toolbarRef","setShowBlockOptionsDropDown","dropDownRef","toolbar","dropDown","handle","addEventListener","removeEventListener","formatParagraph","update","formatLargeHeading","formatSmallHeading","formatBulletList","formatNumberedList","formatQuote","formatCode","_c4","ToolbarPlugin","_s3","canUndo","setCanUndo","canRedo","setCanRedo","setBlockType","selectedElementKey","setSelectedElementKey","showBlockOptionsDropDown","codeLanguage","setCodeLanguage","isRTL","setIsRTL","isLink","setIsLink","isBold","setIsBold","isItalic","setIsItalic","isUnderline","setIsUnderline","isStrikethrough","setIsStrikethrough","isCode","setIsCode","textSize","setTextSize","fontSizeChange","setFontSizeChange","updateToolbar","element","getKey","getTopLevelElementOrThrow","elementKey","elementDOM","getElementByKey","parentList","type","getTag","getType","getLanguage","hasFormat","_ref6","_payload","newEditor","payload","codeLanguges","onCodeLanguageSelect","e","setLanguage","insertLink","increaseTextSize","sizeChange","Math","min","prevSize","getNodes","forEach","newSize","setStyle","decreaseTextSize","max","disabled","has","body","xmlns","viewBox","fill","d","parseInt","_c5","$RefreshReg$"],"sources":["/media/ks/My thing/test/textditor/src/plugins/ToolbarPlugin.js"],"sourcesContent":["import { useLexicalComposerContext } from \"@lexical/react/LexicalComposerContext\";\nimport { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\nimport {\n  CAN_REDO_COMMAND,\n  CAN_UNDO_COMMAND,\n  REDO_COMMAND,\n  UNDO_COMMAND,\n  SELECTION_CHANGE_COMMAND,\n  FORMAT_TEXT_COMMAND,\n  FORMAT_ELEMENT_COMMAND,\n  $getSelection,\n  $isRangeSelection,\n  $createParagraphNode,\n  $getNodeByKey,\n} from \"lexical\";\nimport { $isLinkNode, TOGGLE_LINK_COMMAND } from \"@lexical/link\";\nimport {\n  $isParentElementRTL,\n  $wrapNodes,\n  $isAtNodeEnd,\n} from \"@lexical/selection\";\nimport { $getNearestNodeOfType, mergeRegister } from \"@lexical/utils\";\nimport {\n  INSERT_ORDERED_LIST_COMMAND,\n  INSERT_UNORDERED_LIST_COMMAND,\n  REMOVE_LIST_COMMAND,\n  $isListNode,\n  ListNode,\n} from \"@lexical/list\";\nimport { createPortal } from \"react-dom\";\nimport {\n  $createHeadingNode,\n  $createQuoteNode,\n  $isHeadingNode,\n} from \"@lexical/rich-text\";\nimport {\n  $createCodeNode,\n  $isCodeNode,\n  getDefaultCodeLanguage,\n  getCodeLanguages,\n} from \"@lexical/code\";\n\n// import { useLexicalComposerContext } from '@lexical/react/LexicalComposerContext';\n// import { useEffect } from 'react';\n// import { mergeRegister } from '@lexical/utils';\n\nconst LowPriority = 1;\n\nconst [editor] = useLexicalComposerContext();\n\n\n\nconst supportedBlockTypes = new Set([\n  \"paragraph\",\n  \"quote\",\n  \"code\",\n  \"h1\",\n  \"h2\",\n  \"ul\",\n  \"ol\",\n]);\n\nconst blockTypeToBlockName = {\n  code: \"Code Block\",\n  h1: \"Large Heading\",\n  h2: \"Small Heading\",\n  h3: \"Heading\",\n  h4: \"Heading\",\n  h5: \"Heading\",\n  ol: \"Numbered List\",\n  paragraph: \"Normal\",\n  quote: \"Quote\",\n  ul: \"Bulleted List\",\n};\n\nfunction Divider() {\n  return <div className=\"divider\" />;\n}\n\nfunction positionEditorElement(editor, rect) {\n  if (rect === null) {\n    editor.style.opacity = \"0\";\n    editor.style.top = \"-1000px\";\n    editor.style.left = \"-1000px\";\n  } else {\n    editor.style.opacity = \"1\";\n    editor.style.top = `${rect.top + rect.height + window.pageYOffset + 10}px`;\n    editor.style.left = `${\n      rect.left + window.pageXOffset - editor.offsetWidth / 2 + rect.width / 2\n    }px`;\n  }\n}\n\nfunction FloatingLinkEditor({ editor }) {\n  const editorRef = useRef(null);\n  const inputRef = useRef(null);\n  const mouseDownRef = useRef(false);\n  const [linkUrl, setLinkUrl] = useState(\"\");\n  const [isEditMode, setEditMode] = useState(false);\n  const [lastSelection, setLastSelection] = useState(null);\n\n  useEffect(() => {\n    const unregister = mergeRegister(\n      editor.registerUpdateListener(({ editorState }) => {\n        editorState.read(() => {\n          // Save the editor state to localStorage\n          const serializedState = JSON.stringify(editorState);\n          localStorage.setItem('editorState', serializedState);\n          console.log('Editor state saved:', serializedState);\n        });\n      })\n    );\n  \n    return () => {\n      unregister();\n    };\n  }, [editor]);\n\n  const updateLinkEditor = useCallback(() => {\n    const selection = $getSelection();\n    if ($isRangeSelection(selection)) {\n      const node = getSelectedNode(selection);\n      const parent = node.getParent();\n      if ($isLinkNode(parent)) {\n        setLinkUrl(parent.getURL());\n      } else if ($isLinkNode(node)) {\n        setLinkUrl(node.getURL());\n      } else {\n        setLinkUrl(\"\");\n      }\n    }\n    const editorElem = editorRef.current;\n    const nativeSelection = window.getSelection();\n    const activeElement = document.activeElement;\n\n    if (editorElem === null) {\n      return;\n    }\n\n    const rootElement = editor.getRootElement();\n    if (\n      selection !== null &&\n      !nativeSelection.isCollapsed &&\n      rootElement !== null &&\n      rootElement.contains(nativeSelection.anchorNode)\n    ) {\n      const domRange = nativeSelection.getRangeAt(0);\n      let rect;\n      if (nativeSelection.anchorNode === rootElement) {\n        let inner = rootElement;\n        while (inner.firstElementChild != null) {\n          inner = inner.firstElementChild;\n        }\n        rect = inner.getBoundingClientRect();\n      } else {\n        rect = domRange.getBoundingClientRect();\n      }\n\n      if (!mouseDownRef.current) {\n        positionEditorElement(editorElem, rect);\n      }\n      setLastSelection(selection);\n    } else if (!activeElement || activeElement.className !== \"link-input\") {\n      positionEditorElement(editorElem, null);\n      setLastSelection(null);\n      setEditMode(false);\n      setLinkUrl(\"\");\n    }\n\n    return true;\n  }, [editor]);\n\n  useEffect(() => {\n    return mergeRegister(\n      editor.registerUpdateListener(({ editorState }) => {\n        editorState.read(() => {\n          updateLinkEditor();\n        });\n      }),\n\n      editor.registerCommand(\n        SELECTION_CHANGE_COMMAND,\n        () => {\n          updateLinkEditor();\n          return true;\n        },\n        LowPriority\n      )\n    );\n  }, [editor, updateLinkEditor]);\n\n  useEffect(() => {\n    editor.getEditorState().read(() => {\n      updateLinkEditor();\n    });\n  }, [editor, updateLinkEditor]);\n\n  useEffect(() => {\n    if (isEditMode && inputRef.current) {\n      inputRef.current.focus();\n    }\n  }, [isEditMode]);\n\n  return (\n    <div ref={editorRef} className=\"link-editor\">\n      {isEditMode ? (\n        <input\n          ref={inputRef}\n          className=\"link-input\"\n          value={linkUrl}\n          onChange={(event) => {\n            setLinkUrl(event.target.value);\n          }}\n          onKeyDown={(event) => {\n            if (event.key === \"Enter\") {\n              event.preventDefault();\n              if (lastSelection !== null) {\n                if (linkUrl !== \"\") {\n                  editor.dispatchCommand(TOGGLE_LINK_COMMAND, linkUrl);\n                }\n                setEditMode(false);\n              }\n            } else if (event.key === \"Escape\") {\n              event.preventDefault();\n              setEditMode(false);\n            }\n          }}\n        />\n      ) : (\n        <>\n          <div className=\"link-input\">\n            <a href={linkUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n              {linkUrl}\n            </a>\n            <div\n              className=\"link-edit\"\n              role=\"button\"\n              tabIndex={0}\n              onMouseDown={(event) => event.preventDefault()}\n              onClick={() => {\n                setEditMode(true);\n              }}\n            />\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n\nfunction Select({ onChange, className, options, value }) {\n  return (\n    <select className={className} onChange={onChange} value={value}>\n      <option hidden={true} value=\"\" />\n      {options.map((option) => (\n        <option key={option} value={option}>\n          {option}\n        </option>\n      ))}\n    </select>\n  );\n}\n\nfunction getSelectedNode(selection) {\n  const anchor = selection.anchor;\n  const focus = selection.focus;\n  const anchorNode = selection.anchor.getNode();\n  const focusNode = selection.focus.getNode();\n  if (anchorNode === focusNode) {\n    return anchorNode;\n  }\n  const isBackward = selection.isBackward();\n  if (isBackward) {\n    return $isAtNodeEnd(focus) ? anchorNode : focusNode;\n  } else {\n    return $isAtNodeEnd(anchor) ? focusNode : anchorNode;\n  }\n}\n\nfunction BlockOptionsDropdownList({\n  editor,\n  blockType,\n  toolbarRef,\n  setShowBlockOptionsDropDown,\n}) {\n  const dropDownRef = useRef(null);\n\n  useEffect(() => {\n    const toolbar = toolbarRef.current;\n    const dropDown = dropDownRef.current;\n\n    if (toolbar !== null && dropDown !== null) {\n      const { top, left } = toolbar.getBoundingClientRect();\n      dropDown.style.top = `${top + 40}px`;\n      dropDown.style.left = `${left}px`;\n    }\n  }, [dropDownRef, toolbarRef]);\n\n  useEffect(() => {\n    const dropDown = dropDownRef.current;\n    const toolbar = toolbarRef.current;\n\n    if (dropDown !== null && toolbar !== null) {\n      const handle = (event) => {\n        const target = event.target;\n\n        if (!dropDown.contains(target) && !toolbar.contains(target)) {\n          setShowBlockOptionsDropDown(false);\n        }\n      };\n      document.addEventListener(\"click\", handle);\n\n      return () => {\n        document.removeEventListener(\"click\", handle);\n      };\n    }\n  }, [dropDownRef, setShowBlockOptionsDropDown, toolbarRef]);\n\n  const formatParagraph = () => {\n    if (blockType !== \"paragraph\") {\n      editor.update(() => {\n        const selection = $getSelection();\n\n        if ($isRangeSelection(selection)) {\n          $wrapNodes(selection, () => $createParagraphNode());\n        }\n      });\n    }\n    setShowBlockOptionsDropDown(false);\n  };\n\n  const formatLargeHeading = () => {\n    if (blockType !== \"h1\") {\n      editor.update(() => {\n        const selection = $getSelection();\n\n        if ($isRangeSelection(selection)) {\n          $wrapNodes(selection, () => $createHeadingNode(\"h1\"));\n        }\n      });\n    }\n    setShowBlockOptionsDropDown(false);\n  };\n\n  const formatSmallHeading = () => {\n    if (blockType !== \"h2\") {\n      editor.update(() => {\n        const selection = $getSelection();\n\n        if ($isRangeSelection(selection)) {\n          $wrapNodes(selection, () => $createHeadingNode(\"h2\"));\n        }\n      });\n    }\n    setShowBlockOptionsDropDown(false);\n  };\n\n  const formatBulletList = () => {\n    if (blockType !== \"ul\") {\n      editor.dispatchCommand(INSERT_UNORDERED_LIST_COMMAND);\n    } else {\n      editor.dispatchCommand(REMOVE_LIST_COMMAND);\n    }\n    setShowBlockOptionsDropDown(false);\n  };\n\n  const formatNumberedList = () => {\n    if (blockType !== \"ol\") {\n      editor.dispatchCommand(INSERT_ORDERED_LIST_COMMAND);\n    } else {\n      editor.dispatchCommand(REMOVE_LIST_COMMAND);\n    }\n    setShowBlockOptionsDropDown(false);\n  };\n\n  const formatQuote = () => {\n    if (blockType !== \"quote\") {\n      editor.update(() => {\n        const selection = $getSelection();\n\n        if ($isRangeSelection(selection)) {\n          $wrapNodes(selection, () => $createQuoteNode());\n        }\n      });\n    }\n    setShowBlockOptionsDropDown(false);\n  };\n\n  const formatCode = () => {\n    if (blockType !== \"code\") {\n      editor.update(() => {\n        const selection = $getSelection();\n\n        if ($isRangeSelection(selection)) {\n          $wrapNodes(selection, () => $createCodeNode());\n        }\n      });\n    }\n    setShowBlockOptionsDropDown(false);\n  };\n\n  return (\n    <div className=\"dropdown\" ref={dropDownRef}>\n      <button className=\"item\" onClick={formatParagraph}>\n        <span className=\"icon paragraph\" />\n        <span className=\"text\">Normal</span>\n        {blockType === \"paragraph\" && <span className=\"active\" />}\n      </button>\n      <button className=\"item\" onClick={formatLargeHeading}>\n        <span className=\"icon large-heading\" />\n        <span className=\"text\">Large Heading</span>\n        {blockType === \"h1\" && <span className=\"active\" />}\n      </button>\n      <button className=\"item\" onClick={formatSmallHeading}>\n        <span className=\"icon small-heading\" />\n        <span className=\"text\">Small Heading</span>\n        {blockType === \"h2\" && <span className=\"active\" />}\n      </button>\n      <button className=\"item\" onClick={formatBulletList}>\n        <span className=\"icon bullet-list\" />\n        <span className=\"text\">Bullet List</span>\n        {blockType === \"ul\" && <span className=\"active\" />}\n      </button>\n      <button className=\"item\" onClick={formatNumberedList}>\n        <span className=\"icon numbered-list\" />\n        <span className=\"text\">Numbered List</span>\n        {blockType === \"ol\" && <span className=\"active\" />}\n      </button>\n      <button className=\"item\" onClick={formatQuote}>\n        <span className=\"icon quote\" />\n        <span className=\"text\">Quote</span>\n        {blockType === \"quote\" && <span className=\"active\" />}\n      </button>\n      <button className=\"item\" onClick={formatCode}>\n        <span className=\"icon code\" />\n        <span className=\"text\">Code Block</span>\n        {blockType === \"code\" && <span className=\"active\" />}\n      </button>\n    </div>\n  );\n}\n\nexport default function ToolbarPlugin() {\n  const [editor] = useLexicalComposerContext();\n  const toolbarRef = useRef(null);\n  const [canUndo, setCanUndo] = useState(false);\n  const [canRedo, setCanRedo] = useState(false);\n  const [blockType, setBlockType] = useState(\"paragraph\");\n  const [selectedElementKey, setSelectedElementKey] = useState(null);\n  const [showBlockOptionsDropDown, setShowBlockOptionsDropDown] =\n    useState(false);\n  const [codeLanguage, setCodeLanguage] = useState(\"\");\n  const [isRTL, setIsRTL] = useState(false);\n  const [isLink, setIsLink] = useState(false);\n  const [isBold, setIsBold] = useState(false);\n  const [isItalic, setIsItalic] = useState(false);\n  const [isUnderline, setIsUnderline] = useState(false);\n  const [isStrikethrough, setIsStrikethrough] = useState(false);\n  const [isCode, setIsCode] = useState(false);\n  const [textSize, setTextSize] = useState(16); // Default text size\n  const [fontSizeChange, setFontSizeChange] = useState(1); // Default font size change\n\n  const updateToolbar = useCallback(() => {\n    const selection = $getSelection();\n    if ($isRangeSelection(selection)) {\n      const anchorNode = selection.anchor.getNode();\n      const element =\n        anchorNode.getKey() === \"root\"\n          ? anchorNode\n          : anchorNode.getTopLevelElementOrThrow();\n      const elementKey = element.getKey();\n      const elementDOM = editor.getElementByKey(elementKey);\n      if (elementDOM !== null) {\n        setSelectedElementKey(elementKey);\n        if ($isListNode(element)) {\n          const parentList = $getNearestNodeOfType(anchorNode, ListNode);\n          const type = parentList ? parentList.getTag() : element.getTag();\n          setBlockType(type);\n        } else {\n          const type = $isHeadingNode(element)\n            ? element.getTag()\n            : element.getType();\n          setBlockType(type);\n          if ($isCodeNode(element)) {\n            setCodeLanguage(element.getLanguage() || getDefaultCodeLanguage());\n          }\n        }\n      }\n      // Update text format\n      setIsBold(selection.hasFormat(\"bold\"));\n      setIsItalic(selection.hasFormat(\"italic\"));\n      setIsUnderline(selection.hasFormat(\"underline\"));\n      setIsStrikethrough(selection.hasFormat(\"strikethrough\"));\n      setIsCode(selection.hasFormat(\"code\"));\n      setIsRTL($isParentElementRTL(selection));\n\n      // Update links\n      const node = getSelectedNode(selection);\n      const parent = node.getParent();\n      if ($isLinkNode(parent) || $isLinkNode(node)) {\n        setIsLink(true);\n      } else {\n        setIsLink(false);\n      }\n    }\n  }, [editor]);\n\n  useEffect(() => {\n    return mergeRegister(\n      editor.registerUpdateListener(({ editorState }) => {\n        editorState.read(() => {\n          updateToolbar();\n        });\n      }),\n      editor.registerCommand(\n        SELECTION_CHANGE_COMMAND,\n        (_payload, newEditor) => {\n          updateToolbar();\n          return false;\n        },\n        LowPriority\n      ),\n      editor.registerCommand(\n        CAN_UNDO_COMMAND,\n        (payload) => {\n          setCanUndo(payload);\n          return false;\n        },\n        LowPriority\n      ),\n      editor.registerCommand(\n        CAN_REDO_COMMAND,\n        (payload) => {\n          setCanRedo(payload);\n          return false;\n        },\n        LowPriority\n      )\n    );\n  }, [editor, updateToolbar]);\n\n  const codeLanguges = useMemo(() => getCodeLanguages(), []);\n  const onCodeLanguageSelect = useCallback(\n    (e) => {\n      editor.update(() => {\n        if (selectedElementKey !== null) {\n          const node = $getNodeByKey(selectedElementKey);\n          if ($isCodeNode(node)) {\n            node.setLanguage(e.target.value);\n          }\n        }\n      });\n    },\n    [editor, selectedElementKey]\n  );\n\n  const insertLink = useCallback(() => {\n    if (!isLink) {\n      editor.dispatchCommand(TOGGLE_LINK_COMMAND, \"https://\");\n    } else {\n      editor.dispatchCommand(TOGGLE_LINK_COMMAND, null);\n    }\n  }, [editor, isLink]);\n\n  const increaseTextSize = useCallback(() => {\n    const sizeChange = Math.min(fontSizeChange, 72); // Ensure fontSizeChange doesn't exceed 72\n    setTextSize((prevSize) => Math.min(prevSize + sizeChange, 72)); // Cap the font size at 72px\n\n    editor.update(() => {\n      const selection = $getSelection();\n      if ($isRangeSelection(selection)) {\n        selection.getNodes().forEach((node) => {\n          if (node.getType() === \"text\") {\n            const newSize = Math.min(textSize + sizeChange, 72); // Cap the font size at 72px\n            node.setStyle(`font-size: ${newSize}px`);\n          }\n        });\n      }\n    });\n  }, [editor, textSize, fontSizeChange]);\n\n  const decreaseTextSize = useCallback(() => {\n    setTextSize((prevSize) => Math.max(prevSize - fontSizeChange, 1));\n    editor.update(() => {\n      const selection = $getSelection();\n      if ($isRangeSelection(selection)) {\n        selection.getNodes().forEach((node) => {\n          if (node.getType() === \"text\") {\n            node.setStyle(`font-size: ${textSize - fontSizeChange}px`);\n          }\n        });\n      }\n    });\n  }, [editor, textSize, fontSizeChange]);\n\n  useEffect(() => {},[editor, textSize, fontSizeChange]);\n\n  return (\n    <div className=\"toolbar \" ref={toolbarRef}>\n      <button\n        disabled={!canUndo}\n        onClick={() => {\n          editor.dispatchCommand(UNDO_COMMAND);\n        }}\n        className=\"toolbar-item spaced\"\n        aria-label=\"Undo\"\n      >\n        <i className=\"format undo\" />\n      </button>\n      <button\n        disabled={!canRedo}\n        onClick={() => {\n          editor.dispatchCommand(REDO_COMMAND);\n        }}\n        className=\"toolbar-item\"\n        aria-label=\"Redo\"\n      >\n        <i className=\"format redo\" />\n      </button>\n      <Divider />\n      {supportedBlockTypes.has(blockType) && (\n        <>\n          <button\n            className=\"toolbar-item block-controls\"\n            onClick={() =>\n              setShowBlockOptionsDropDown(!showBlockOptionsDropDown)\n            }\n            aria-label=\"Formatting Options\"\n          >\n            <span className={\"icon block-type \" + blockType} />\n            <span className=\"text\">{blockTypeToBlockName[blockType]}</span>\n            <i className=\"chevron-down\" />\n          </button>\n          {showBlockOptionsDropDown &&\n            createPortal(\n              <BlockOptionsDropdownList\n                editor={editor}\n                blockType={blockType}\n                toolbarRef={toolbarRef}\n                setShowBlockOptionsDropDown={setShowBlockOptionsDropDown}\n              />,\n              document.body\n            )}\n          <Divider />\n        </>\n      )}\n      {blockType === \"code\" ? (\n        <>\n          <Select\n            className=\"toolbar-item code-language\"\n            onChange={onCodeLanguageSelect}\n            options={codeLanguges}\n            value={codeLanguage}\n          />\n          <i className=\"chevron-down inside\" />\n        </>\n      ) : (\n        <>\n          <button\n            onClick={decreaseTextSize}\n            className=\"toolbar-item\"\n            aria-label=\"Decrease Text Size\"\n          >\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              viewBox=\"0 0 24 24\"\n              width=\"24\"\n              height=\"24\"\n              fill=\"currentColor\"\n            >\n              <path d=\"M19 11H5V13H19V11Z\"></path>\n            </svg>\n          </button>\n          <input\n            type=\"number\"\n            value={fontSizeChange}\n            onChange={(e) => setFontSizeChange(parseInt(e.target.value, 10))}\n            className=\"toolbar-item  text-center rounded-xl border-2 border-zinc-500 focus:outline-none\"\n            min=\"1\"\n            max=\"72\"\n          />\n          <button\n            onClick={increaseTextSize}\n            className=\"toolbar-item\"\n            aria-label=\"Increase Text Size\"\n          >\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              viewBox=\"0 0 24 24\"\n              width=\"24\"\n              height=\"24\"\n              fill=\"currentColor\"\n            >\n              <path d=\"M11 11V5H13V11H19V13H13V19H11V13H5V11H11Z\"></path>\n            </svg>\n          </button>\n          <button\n            onClick={() => {\n              editor.dispatchCommand(FORMAT_TEXT_COMMAND, \"bold\");\n            }}\n            className={\"toolbar-item spaced \" + (isBold ? \"active\" : \"\")}\n            aria-label=\"Format Bold\"\n          >\n            <i className=\"format bold\" />\n          </button>\n          <button\n            onClick={() => {\n              editor.dispatchCommand(FORMAT_TEXT_COMMAND, \"italic\");\n            }}\n            className={\"toolbar-item spaced \" + (isItalic ? \"active\" : \"\")}\n            aria-label=\"Format Italics\"\n          >\n            <i className=\"format italic\" />\n          </button>\n          <button\n            onClick={() => {\n              editor.dispatchCommand(FORMAT_TEXT_COMMAND, \"underline\");\n            }}\n            className={\"toolbar-item spaced \" + (isUnderline ? \"active\" : \"\")}\n            aria-label=\"Format Underline\"\n          >\n            <i className=\"format underline\" />\n          </button>\n          <button\n            onClick={() => {\n              editor.dispatchCommand(FORMAT_TEXT_COMMAND, \"strikethrough\");\n            }}\n            className={\n              \"toolbar-item spaced \" + (isStrikethrough ? \"active\" : \"\")\n            }\n            aria-label=\"Format Strikethrough\"\n          >\n            <i className=\"format strikethrough\" />\n          </button>\n          <button\n            onClick={() => {\n              editor.dispatchCommand(FORMAT_TEXT_COMMAND, \"code\");\n            }}\n            className={\"toolbar-item spaced \" + (isCode ? \"active\" : \"\")}\n            aria-label=\"Insert Code\"\n          >\n            <i className=\"format code\" />\n          </button>\n          <button\n            onClick={insertLink}\n            className={\"toolbar-item spaced \" + (isLink ? \"active\" : \"\")}\n            aria-label=\"Insert Link\"\n          >\n            <i className=\"format link\" />\n          </button>\n          {isLink &&\n            createPortal(<FloatingLinkEditor editor={editor} />, document.body)}\n          <Divider />\n          <button\n            onClick={() => {\n              editor.dispatchCommand(FORMAT_ELEMENT_COMMAND, \"left\");\n            }}\n            className=\"toolbar-item spaced\"\n            aria-label=\"Left Align\"\n          >\n            <i className=\"format left-align\" />\n          </button>\n          <button\n            onClick={() => {\n              editor.dispatchCommand(FORMAT_ELEMENT_COMMAND, \"center\");\n            }}\n            className=\"toolbar-item spaced\"\n            aria-label=\"Center Align\"\n          >\n            <i className=\"format center-align\" />\n          </button>\n          <button\n            onClick={() => {\n              editor.dispatchCommand(FORMAT_ELEMENT_COMMAND, \"right\");\n            }}\n            className=\"toolbar-item spaced\"\n            aria-label=\"Right Align\"\n          >\n            <i className=\"format right-align\" />\n          </button>\n          <button\n            onClick={() => {\n              editor.dispatchCommand(FORMAT_ELEMENT_COMMAND, \"justify\");\n            }}\n            className=\"toolbar-item\"\n            aria-label=\"Justify Align\"\n          >\n            <i className=\"format justify-align\" />\n          </button>{\" \"}\n        </>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}