{"ast":null,"code":"/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';\n\nvar LexicalComposerContext = require('@lexical/react/LexicalComposerContext');\nvar lexical = require('lexical');\nvar react = require('react');\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nfunction isNodeSelected(editor, key) {\n  return editor.getEditorState().read(() => {\n    const node = lexical.$getNodeByKey(key);\n    if (node === null) {\n      return false;\n    }\n    return node.isSelected();\n  });\n}\nfunction useLexicalNodeSelection(key) {\n  const [editor] = LexicalComposerContext.useLexicalComposerContext();\n  const [isSelected, setIsSelected] = react.useState(() => isNodeSelected(editor, key));\n  react.useEffect(() => {\n    return editor.registerUpdateListener(() => {\n      setIsSelected(isNodeSelected(editor, key));\n    });\n  }, [editor, key]);\n  const setSelected = react.useCallback(selected => {\n    editor.update(() => {\n      let selection = lexical.$getSelection();\n      if (!lexical.$isNodeSelection(selection)) {\n        selection = lexical.$createNodeSelection();\n        lexical.$setSelection(selection);\n      }\n      if (selected) {\n        selection.add(key);\n      } else {\n        selection.delete(key);\n      }\n    });\n  }, [editor, key]);\n  const clearSelected = react.useCallback(() => {\n    editor.update(() => {\n      const selection = lexical.$getSelection();\n      if (lexical.$isNodeSelection(selection)) {\n        selection.clear();\n      }\n    });\n  }, [editor]);\n  return [isSelected, setSelected, clearSelected];\n}\nexports.useLexicalNodeSelection = useLexicalNodeSelection;","map":{"version":3,"names":["LexicalComposerContext","require","lexical","react","isNodeSelected","editor","key","getEditorState","read","node","$getNodeByKey","isSelected","useLexicalNodeSelection","useLexicalComposerContext","setIsSelected","useState","useEffect","registerUpdateListener","setSelected","useCallback","selected","update","selection","$getSelection","$isNodeSelection","$createNodeSelection","$setSelection","add","delete","clearSelected","clear","exports"],"sources":["/media/ks/My thing/test/textditor/node_modules/@lexical/react/useLexicalNodeSelection.dev.js"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';\n\nvar LexicalComposerContext = require('@lexical/react/LexicalComposerContext');\nvar lexical = require('lexical');\nvar react = require('react');\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nfunction isNodeSelected(editor, key) {\n  return editor.getEditorState().read(() => {\n    const node = lexical.$getNodeByKey(key);\n\n    if (node === null) {\n      return false;\n    }\n\n    return node.isSelected();\n  });\n}\n\nfunction useLexicalNodeSelection(key) {\n  const [editor] = LexicalComposerContext.useLexicalComposerContext();\n  const [isSelected, setIsSelected] = react.useState(() => isNodeSelected(editor, key));\n  react.useEffect(() => {\n    return editor.registerUpdateListener(() => {\n      setIsSelected(isNodeSelected(editor, key));\n    });\n  }, [editor, key]);\n  const setSelected = react.useCallback(selected => {\n    editor.update(() => {\n      let selection = lexical.$getSelection();\n\n      if (!lexical.$isNodeSelection(selection)) {\n        selection = lexical.$createNodeSelection();\n        lexical.$setSelection(selection);\n      }\n\n      if (selected) {\n        selection.add(key);\n      } else {\n        selection.delete(key);\n      }\n    });\n  }, [editor, key]);\n  const clearSelected = react.useCallback(() => {\n    editor.update(() => {\n      const selection = lexical.$getSelection();\n\n      if (lexical.$isNodeSelection(selection)) {\n        selection.clear();\n      }\n    });\n  }, [editor]);\n  return [isSelected, setSelected, clearSelected];\n}\n\nexports.useLexicalNodeSelection = useLexicalNodeSelection;\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;;AAEZ,IAAIA,sBAAsB,GAAGC,OAAO,CAAC,uCAAuC,CAAC;AAC7E,IAAIC,OAAO,GAAGD,OAAO,CAAC,SAAS,CAAC;AAChC,IAAIE,KAAK,GAAGF,OAAO,CAAC,OAAO,CAAC;;AAE5B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASG,cAAcA,CAACC,MAAM,EAAEC,GAAG,EAAE;EACnC,OAAOD,MAAM,CAACE,cAAc,CAAC,CAAC,CAACC,IAAI,CAAC,MAAM;IACxC,MAAMC,IAAI,GAAGP,OAAO,CAACQ,aAAa,CAACJ,GAAG,CAAC;IAEvC,IAAIG,IAAI,KAAK,IAAI,EAAE;MACjB,OAAO,KAAK;IACd;IAEA,OAAOA,IAAI,CAACE,UAAU,CAAC,CAAC;EAC1B,CAAC,CAAC;AACJ;AAEA,SAASC,uBAAuBA,CAACN,GAAG,EAAE;EACpC,MAAM,CAACD,MAAM,CAAC,GAAGL,sBAAsB,CAACa,yBAAyB,CAAC,CAAC;EACnE,MAAM,CAACF,UAAU,EAAEG,aAAa,CAAC,GAAGX,KAAK,CAACY,QAAQ,CAAC,MAAMX,cAAc,CAACC,MAAM,EAAEC,GAAG,CAAC,CAAC;EACrFH,KAAK,CAACa,SAAS,CAAC,MAAM;IACpB,OAAOX,MAAM,CAACY,sBAAsB,CAAC,MAAM;MACzCH,aAAa,CAACV,cAAc,CAACC,MAAM,EAAEC,GAAG,CAAC,CAAC;IAC5C,CAAC,CAAC;EACJ,CAAC,EAAE,CAACD,MAAM,EAAEC,GAAG,CAAC,CAAC;EACjB,MAAMY,WAAW,GAAGf,KAAK,CAACgB,WAAW,CAACC,QAAQ,IAAI;IAChDf,MAAM,CAACgB,MAAM,CAAC,MAAM;MAClB,IAAIC,SAAS,GAAGpB,OAAO,CAACqB,aAAa,CAAC,CAAC;MAEvC,IAAI,CAACrB,OAAO,CAACsB,gBAAgB,CAACF,SAAS,CAAC,EAAE;QACxCA,SAAS,GAAGpB,OAAO,CAACuB,oBAAoB,CAAC,CAAC;QAC1CvB,OAAO,CAACwB,aAAa,CAACJ,SAAS,CAAC;MAClC;MAEA,IAAIF,QAAQ,EAAE;QACZE,SAAS,CAACK,GAAG,CAACrB,GAAG,CAAC;MACpB,CAAC,MAAM;QACLgB,SAAS,CAACM,MAAM,CAACtB,GAAG,CAAC;MACvB;IACF,CAAC,CAAC;EACJ,CAAC,EAAE,CAACD,MAAM,EAAEC,GAAG,CAAC,CAAC;EACjB,MAAMuB,aAAa,GAAG1B,KAAK,CAACgB,WAAW,CAAC,MAAM;IAC5Cd,MAAM,CAACgB,MAAM,CAAC,MAAM;MAClB,MAAMC,SAAS,GAAGpB,OAAO,CAACqB,aAAa,CAAC,CAAC;MAEzC,IAAIrB,OAAO,CAACsB,gBAAgB,CAACF,SAAS,CAAC,EAAE;QACvCA,SAAS,CAACQ,KAAK,CAAC,CAAC;MACnB;IACF,CAAC,CAAC;EACJ,CAAC,EAAE,CAACzB,MAAM,CAAC,CAAC;EACZ,OAAO,CAACM,UAAU,EAAEO,WAAW,EAAEW,aAAa,CAAC;AACjD;AAEAE,OAAO,CAACnB,uBAAuB,GAAGA,uBAAuB","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}